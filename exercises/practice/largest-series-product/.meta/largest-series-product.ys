!yamlscript/v0


defn largest-product(digits span):
  cond:
    span < 0:
      die: 'span must not be negative'
    span > digits.S():
      die: 'span must be smaller than string length'
    digits =~ /[^0-9]/:
      die: 'digits input must only contain digits'
    =>:
      apply max: map(A(apply *) slices(digits span))

defn- slices(digits span):
  partition span 1:
    map num: digits.split('')
